server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s

qdrant:
  host: "localhost"
  grpc_port: 6334
  collection: "cma_episodes"
  vector_size: 1536
  hnsw_m: 16
  hnsw_ef: 100

neo4j:
  uri: "bolt://localhost:7687"
  username: "neo4j"
  password: "cmapassword"
  database: "neo4j"

redis:
  addr: "localhost:6379"
  password: ""
  db: 0

llm:
  provider: "openai"
  api_key: "${OPENAI_API_KEY}"
  model: "gpt-4o"
  embedding_model: "text-embedding-3-small"
  max_tokens: 4096
  temperature: 0.1

segmentation:
  gamma: 2.5
  window_size: 50
  min_episode_tokens: 50
  max_episode_tokens: 500

knapsack:
  token_budget: 4096
  force_recent_turns: 3
  lambda_init: 0.001

dig:
  min_score: -0.5
  fallback_enabled: true

consolidation:
  inactivity_timeout: 15m
  max_unconsolidated: 10
  dbscan_epsilon: 0.3
  dbscan_min_points: 3
  decay_rate: 0.95
  worker_concurrency: 5
  check_interval: 1m

retrieval:
  vector_top_k: 20
  graph_max_hops: 2
  timeout: 10s

metrics:
  enabled: true
  path: "/metrics"
